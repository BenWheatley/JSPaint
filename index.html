<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Paint</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
            flex-direction: column; /* Align items in a column */
        }

        canvas {
            border: 1px solid #000;
            cursor: crosshair;
        }

        #toolColorRow {
            display: flex;
            margin-bottom: 10px;
        }

        #toolSelector,
        #colorPicker {
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div id="toolColorRow">
        <div>
            <label for="toolSelector">Select Tool: </label>
            <select id="toolSelector">
                <option value="pencil">Pencil</option>
                <option value="brush">Brush</option>
                <option value="eraser">Eraser</option>
                <option value="floodFill">Flood Fill</option>
                <!-- Add more tool options as needed -->
            </select>
        </div>
        <input type="color" id="colorPicker" value="#000000">
    </div>
    <canvas id="paintCanvas" width="800" height="600"></canvas>

    <script>
        // JavaScript code for drawing on the canvas with tool and color selection
        const canvas = document.getElementById('paintCanvas');
        const context = canvas.getContext('2d');
        const toolSelector = document.getElementById('toolSelector');
        const colorPicker = document.getElementById('colorPicker');
        let painting = false;

        // Function to fill the canvas with a specified color
        function fillCanvas(color) {
            context.fillStyle = color;
            context.fillRect(0, 0, canvas.width, canvas.height);
        }

        // Fill the canvas with white by default
        fillCanvas('white');

        function startPosition(e) {
            painting = true;

            const selectedTool = toolSelector.value;

            if (selectedTool === 'floodFill') {
                floodFill(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop, colorPicker.value);
            } else {
                draw(e);
            }
        }

        function endPosition() {
            painting = false;
            context.beginPath();
        }

        function draw(e) {
            if (!painting) return;

            const selectedTool = toolSelector.value;
            const selectedColor = colorPicker.value;

            context.lineCap = 'round';

            switch (selectedTool) {
                case 'pencil':
                    context.lineWidth = 1;
                    break;
                case 'brush':
                case 'eraser':
                    context.lineWidth = 10;
                    break;
                // Add more cases for other tools
            }

            context.strokeStyle = selectedTool === 'eraser' ? 'white' : selectedColor;

            context.lineTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);
            context.stroke();
            context.beginPath();
            context.moveTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);
        }

        function floodFill(x, y, fillColor) {
            const imageData = context.getImageData(0, 0, canvas.width, canvas.height);
            const pixelStack = [[x, y]];

            const targetColor = getPixelColor(imageData, x, y);
            if (targetColor === fillColor) return;

            while (pixelStack.length) {
                const [currentX, currentY] = pixelStack.pop();

                if (currentX >= 0 && currentX < canvas.width && currentY >= 0 && currentY < canvas.height) {
                    if (getPixelColor(imageData, currentX, currentY) === targetColor) {
                        setPixelColor(imageData, currentX, currentY, fillColor);
                        pixelStack.push([currentX + 1, currentY]);
                        pixelStack.push([currentX - 1, currentY]);
                        pixelStack.push([currentX, currentY + 1]);
                        pixelStack.push([currentX, currentY - 1]);
                    }
                }
            }

            context.putImageData(imageData, 0, 0);
        }

        function getPixelColor(imageData, x, y) {
            const index = (y * imageData.width + x) * 4;
            return [
                imageData.data[index],
                imageData.data[index + 1],
                imageData.data[index + 2],
                imageData.data[index + 3]
            ];
        }

        function setPixelColor(imageData, x, y, color) {
            const index = (y * imageData.width + x) * 4;
            imageData.data[index] = color[0];
            imageData.data[index + 1] = color[1];
            imageData.data[index + 2] = color[2];
            imageData.data[index + 3] = color[3];
        }

        canvas.addEventListener('mousedown', startPosition);
        canvas.addEventListener('mouseup', endPosition);
        canvas.addEventListener('mousemove', draw);
    </script>
</body>
</html>
